# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ Amnezia VPN Web Panel —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏.

```text
amnezia-web-panel/
‚îÇ
‚îú‚îÄ‚îÄ üìÑ README.md                    # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ PROJECT_STRUCTURE.md         # –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ üìÑ DEVELOPER.md                 # –ì–∞–π–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
‚îú‚îÄ‚îÄ üìÑ API_EXAMPLES.md              # –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å API
‚îú‚îÄ‚îÄ üìÑ LDAP_SETUP.md                # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LDAP/AD
‚îú‚îÄ‚îÄ üìÑ LICENSE                      # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
‚îú‚îÄ‚îÄ üìÑ .gitignore                   # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git
‚îú‚îÄ‚îÄ üìÑ .env.example                 # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ üê≥ Docker
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml          # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (web + db)
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                  # –û–±—Ä–∞–∑ PHP 8.2 + Apache
‚îÇ   ‚îî‚îÄ‚îÄ apache.conf                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞ Apache
‚îÇ
‚îú‚îÄ‚îÄ üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ composer.json               # PHP‚Äë–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ migrations/                 # SQL‚Äë–º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ 000_create_user.sql
‚îÇ       ‚îú‚îÄ‚îÄ 001_init.sql            # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ (users, vpn_servers, vpn_clients –∏ —Ç.–¥.)
‚îÇ       ‚îú‚îÄ‚îÄ 002_translations_ru.sql # –ü–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ —Ä—É—Å—Å–∫–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ ...                     # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ üé® –ü—É–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å (Frontend)
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îÇ       ‚îú‚îÄ‚îÄ index.php               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ —Ä–æ—É—Ç–µ—Ä
‚îÇ       ‚îî‚îÄ‚îÄ .htaccess               # –ß–ü–£ –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ index.php
‚îÇ
‚îú‚îÄ‚îÄ üß© Backend (—è–¥—Ä–æ)
‚îÇ   ‚îî‚îÄ‚îÄ inc/
‚îÇ       ‚îú‚îÄ‚îÄ Config.php              # –ó–∞–≥—Ä—É–∑–∫–∞ `.env`, –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ DB.php                  # –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å MySQL (PDO)
‚îÇ       ‚îú‚îÄ‚îÄ Auth.php                # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Å–µ—Å—Å–∏–∏, —Ä–æ–ª–∏
‚îÇ       ‚îú‚îÄ‚îÄ Router.php              # –ü—Ä–æ—Å—Ç–æ–π —Ä–æ—É—Ç–µ—Ä (GET/POST + –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã)
‚îÇ       ‚îú‚îÄ‚îÄ View.php                # –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ Twig
‚îÇ       ‚îú‚îÄ‚îÄ VpnServer.php           # –†–∞–±–æ—Ç–∞ —Å VPN‚Äë—Å–µ—Ä–≤–µ—Ä–∞–º–∏ (–¥–µ–ø–ª–æ–π, –±—ç–∫–∞–ø—ã)
‚îÇ       ‚îú‚îÄ‚îÄ VpnClient.php           # –†–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (–∫–æ–Ω—Ñ–∏–≥–∏, QR, –ª–∏–º–∏—Ç—ã)
‚îÇ       ‚îú‚îÄ‚îÄ Translator.php          # –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ JWT.php                 # JWT‚Äë–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è API
‚îÇ       ‚îú‚îÄ‚îÄ QrUtil.php              # –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç QR Amnezia
‚îÇ       ‚îú‚îÄ‚îÄ PanelImporter.php       # –ò–º–ø–æ—Ä—Ç –∏–∑ wg-easy / 3x-ui
‚îÇ       ‚îú‚îÄ‚îÄ ServerMonitoring.php    # –ú–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤/–∫–ª–∏–µ–Ω—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ LdapSync.php            # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ LDAP/AD
‚îÇ
‚îú‚îÄ‚îÄ üñºÔ∏è –®–∞–±–ª–æ–Ω—ã (Twig)
‚îÇ   ‚îî‚îÄ‚îÄ templates/
‚îÇ       ‚îú‚îÄ‚îÄ layout.twig             # –ë–∞–∑–æ–≤—ã–π –º–∞–∫–µ—Ç (—à–∞–ø–∫–∞, –º–µ–Ω—é, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
‚îÇ       ‚îú‚îÄ‚îÄ login.twig              # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞
‚îÇ       ‚îú‚îÄ‚îÄ register.twig           # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ dashboard.twig          # –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ       ‚îú‚îÄ‚îÄ servers/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ index.twig          # –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ create.twig         # –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ deploy.twig         # –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è (AJAX‚Äë–ª–æ–≥)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ view.twig           # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ + –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ monitoring.twig     # –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ       ‚îî‚îÄ‚îÄ clients/
‚îÇ           ‚îî‚îÄ‚îÄ view.twig           # –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ–Ω—Ñ–∏–≥ –∏ QR‚Äë–∫–æ–¥
‚îÇ
‚îî‚îÄ‚îÄ üß™ –¢–µ—Å—Ç—ã / —É—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ test_qr.php                 # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR‚Äë–∫–æ–¥–æ–≤
    ‚îî‚îÄ‚îÄ examples/                   # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API/–∫–æ–Ω—Ñ–∏–≥–æ–≤
```

---

## –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- **`README.md`** ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –±–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–∏.
- **`PROJECT_STRUCTURE.md`** ‚Äî —ç—Ç–æ—Ç —Ñ–∞–π–ª; –æ–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
- **`DEVELOPER.md`** ‚Äî –∫–∞–∫ –ø–æ–¥–Ω—è—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –≥–¥–µ –∫–∞–∫–∏–µ —Å–ª–æ–∏ –∫–æ–¥–∞.
- **`API_EXAMPLES.md`** ‚Äî –≥–æ—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã curl/Python/JS –∫ REST API.
- **`LDAP_SETUP.md`** ‚Äî –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å LDAP/Active Directory.
- **`.env.example`** ‚Äî —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤).
- **`.gitignore`** ‚Äî –∏—Å–∫–ª—é—á–∞–µ—Ç `.env`, `vendor/`, `db_data/`, –ª–æ–≥–∏ –∏ –ø—Ä–æ—á–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã.

### Docker

- **`docker-compose.yml`**
  - `web` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PHP 8.2 + Apache, –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç, —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç `8082`.
  - `db` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä MySQL 8.0, –¥–∞–Ω–Ω—ã–µ –≤ —Ç–æ–º–µ `db_data`, –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å—Ç–∞—Ä—Ç–µ –Ω–∞–∫–∞—Ç—ã–≤–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏.

- **`Dockerfile`**
  - –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ `php:8.2-apache`
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π: `pdo_mysql`, `gd`, `sodium`, `curl`, `mbstring` –∏ –¥—Ä.
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Composer
  - –í–∫–ª—é—á–µ–Ω–∏–µ `mod_rewrite`
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –ª–∏–º–∏—Ç–æ–≤/—Å—Ä–æ–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è.

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û—Å–Ω–æ–≤–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è `migrations/001_init.sql` —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã:

1. **`users`** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–∞–Ω–µ–ª–∏ (email, –ø–∞—Ä–æ–ª—å, —Ä–æ–ª—å, —è–∑—ã–∫, —Å—Ç–∞—Ç—É—Å).
2. **`vpn_servers`** ‚Äî VPN‚Äë—Å–µ—Ä–≤–µ—Ä—ã (—Ö–æ—Å—Ç, SSH‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø–æ—Ä—Ç, –∫–ª—é—á–∏, AWG‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä—ã).
3. **`vpn_clients`** ‚Äî –∫–ª–∏–µ–Ω—Ç—ã (—Å–µ—Ä–≤–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, IP, –∫–ª—é—á–∏, –∫–æ–Ω—Ñ–∏–≥, QR, —Å—Ç–∞—Ç—ã, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è).
4. **`api_tokens`** ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ API‚Äë—Ç–æ–∫–µ–Ω—ã.
5. **`settings`** ‚Äî –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–Ω–µ–ª–∏ (–∫–ª—é—á‚Äë–∑–Ω–∞—á–µ–Ω–∏–µ).
6. **`languages`, `translations`** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
7. **`server_backups`** ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±—ç–∫–∞–ø–æ–≤ —Å–µ—Ä–≤–µ—Ä–æ–≤.
8. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç:
   - `panel_imports` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤ –∏–∑ –ø–∞–Ω–µ–ª–µ–π.
   - `server_metrics`, `client_metrics` ‚Äî –º–µ—Ç—Ä–∏–∫–∏.
   - `ldap_configs`, `ldap_group_mappings` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LDAP.

---

## –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –î–µ–ø–ª–æ–π VPN‚Äë—Å–µ—Ä–≤–µ—Ä–∞

```text
–§–æ—Ä–º–∞ –≤ UI ‚Üí POST /servers/create
    ‚Üì
VpnServer::create() ‚Äî –∑–∞–ø–∏—Å—å –≤ –ë–î (status = deploying)
    ‚Üì
/servers/{id}/deploy ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ª–æ–≥–æ–º
    ‚Üì
VpnServer->deploy()
    ‚Üì
SSH –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π VPS:
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ / —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
  - –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ amnezia-awg
  - –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å UDP‚Äë–ø–æ—Ä—Ç–æ–º
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è wg0.conf —Å AWG‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ iptables –∏ NAT
    ‚Üì
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î (status = active, vpn_port, –∫–ª—é—á–∏)
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

```text
–§–æ—Ä–º–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí POST /servers/{id}/clients/create
    ‚Üì
VpnClient::create($serverId, $userId, $name, $expiresInDays)
    ‚Üì
–®–∞–≥–∏:
  1. –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ –ë–î
  2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –∫–ª–∏–µ–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (wg genkey/pub)
  3. –í—ã–±–æ—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ IP –∏–∑ –ø–æ–¥—Å–µ—Ç–∏
  4. –°–±–æ—Ä–∫–∞ WireGuard‚Äë–∫–æ–Ω—Ñ–∏–≥–∞ —Å AWG‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ peer –≤ wg0.conf + wg syncconf
  6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR‚Äë–∫–æ–¥–∞ (QrUtil)
  7. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
    ‚Üì
–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /clients/{id} ‚Äî –ø–æ–∫–∞–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ QR‚Äë–∫–æ–¥–∞
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR‚Äë–∫–æ–¥–∞ Amnezia

```text
WireGuard config text
    ‚Üì
QrUtil::encodeOldPayloadFromConf($config)
    ‚Üì
–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥–∞:
  - —Å–µ–∫—Ü–∏—è [Interface]
  - —Å–µ–∫—Ü–∏–∏ [Peer]
  - AWG‚Äë–ø–æ–ª—è (H1‚ÄìH4, Jc, Jmin, Jmax, S1, S2)
    ‚Üì
–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON‚Äë–æ–±—ë—Ä—Ç–∫–∏ (containers[], awg, dns, hostName –∏ —Ç.–¥.)
    ‚Üì
gzcompress(JSON, level 9)
    ‚Üì
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–≤–µ—Ä—Å–∏—è, –¥–ª–∏–Ω—ã)
    ‚Üì
URL‚Äësafe Base64
    ‚Üì
QrUtil::pngBase64($payload) ‚Üí data:image/png;base64,...
```

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### PHP (Composer)

```json
{
  "require": {
    "php": ">=8.0",
    "twig/twig": "^3.8",
    "endroid/qr-code": "^5.0",
    "ext-pdo": "*",
    "ext-json": "*",
    "ext-curl": "*",
    "ext-gd": "*",
    "ext-sodium": "*"
  }
}
```

### –°—Ä–µ–¥–∞ (Docker)

- PHP 8.2 + Apache 2.4
- MySQL 8.0
- `sshpass` –¥–ª—è SSH‚Äë–¥–µ–ø–ª–æ—è
- cron –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `web`

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —á–µ—Ä–µ–∑ `password_hash` (bcrypt)
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (PDO) –ø—Ä–æ—Ç–∏–≤ SQL‚Äë–∏–Ω—ä–µ–∫—Ü–∏–π
- –ê–≤—Ç–æ—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Twig –ø—Ä–æ—Ç–∏–≤ XSS
- –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (admin / user)

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:

- CSRF‚Äë–∑–∞—â–∏—Ç–∞ (form tokens)
- Rate limiting –¥–ª—è API
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π HTTPS (reverse‚Äëproxy + Let‚Äôs Encrypt)
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (CSP, HSTS –∏ —Ç.–ø.)

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω—ã –≤ `README.md` (—Ä–∞–∑–¥–µ–ª—ã Monitoring / Backup & Recovery).

